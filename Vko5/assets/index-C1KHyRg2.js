import{r as n,j as e,a as L}from"./react-ozPE3UE_.js";import{c as C}from"./react-dom-B-UltLqB.js";import{H as j}from"./react-router-dom-CSGlJHFC.js";import"./firebase-B7M99XvF.js";import{i as N,g as T,a as E,s as O}from"./@firebase-CnVTvAas.js";import{u as m,O as R,N as I,a as k,b as d}from"./react-router-Mi1eF1mZ.js";import{s as v,A as B,T as G,a as p,B as y,b as x}from"./@mui-DlCRlU3x.js";import"./@babel-DYAsAt7o.js";import"./scheduler-CzFDRTuY.js";import"./@remix-run-DU41lQQs.js";import"./idb-BXWtuYvb.js";import"./tslib-BGVaTf34.js";import"./react-is-DcfIKM1A.js";import"./clsx-B-dksMZM.js";import"./@emotion-BFQlG5WQ.js";import"./hoist-non-react-statics-DQogQWOa.js";import"./stylis-NkKAe6Bn.js";import"./react-transition-group-hEX5ovL0.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function i(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(t){if(t.ep)return;t.ep=!0;const s=i(t);fetch(t.href,s)}})();const M="/assets/hiclipart-cat-pic-CGUuQQwA.png",P="/assets/react-CHdo91hT.svg",H="/vite.svg",F={apiKey:"AIzaSyCqXSUGGtitCjDX01x5HreMPYQy7Gv20LE",authDomain:"pilvi-react-6210b.firebaseapp.com",projectId:"pilvi-react-6210b",storageBucket:"pilvi-react-6210b.appspot.com",messagingSenderId:"250062694540",appId:"1:250062694540:web:d22c1400c4a36c246633a9"},b=N(F);T(b);const h=E(b),S=()=>{const[a,r]=n.useState(!1),[i,o]=n.useState(""),t=m();return n.useEffect(()=>{const s=h.onAuthStateChanged(c=>{c?(o(c.email||"Guest"),r(!0)):(o(""),r(!1),t("/"))});return()=>s()},[t]),{isAuthenticated:a,username:i}},U=v(B)({AppBar:{color:"secondary",position:"fixed",display:"flex",justifyContent:"space-between"}}),W=v(G)({"& .spacer":{flexGrow:1}}),q=()=>{const{username:a}=S(),r=m(),i=async()=>{try{await h.signOut(),r("/")}catch(o){console.error("Error logging out:",o)}};return e.jsx(U,{color:"secondary",children:e.jsxs(W,{children:[e.jsx("div",{className:"spacer"}),e.jsx(p,{variant:"h6",children:`Welcome, ${a}! `}),e.jsx("div",{style:{marginLeft:"1rem"},children:e.jsx(y,{variant:"outlined",color:"inherit",size:"large",onClick:i,children:"LOGOUT"})})]})})};function z(){const[a,r]=n.useState(0);return e.jsxs(e.Fragment,{children:[e.jsx("div",{children:e.jsx(q,{})}),e.jsxs("div",{children:[e.jsx("a",{href:"https://vitejs.dev",target:"_blank",children:e.jsx("img",{src:H,className:"logo",alt:"Vite logo"})}),e.jsx("a",{href:"https://react.dev",target:"_blank",children:e.jsx("img",{src:P,className:"logo react",alt:"React logo"})}),e.jsx("a",{href:"https://www.hiclipart.com/free-transparent-background-png-clipart-idhbw",target:"_blank",children:e.jsx("img",{src:M,className:"logo cat",alt:"Selfie logo"})})]}),e.jsx("h1",{children:"Vite + React + Selfie"}),e.jsxs("div",{className:"card",children:[e.jsxs("button",{onClick:()=>r(i=>i+1),children:["count is ",a]}),e.jsxs("p",{children:["Edit ",e.jsx("code",{children:"src/App.tsx"})," and save to test HMR"]})]}),e.jsx("p",{className:"read-the-docs",children:"Click on the Vite and React and Selfie logos to learn more"})]})}function K(){const a=m(),[r,i]=n.useState(""),[o,t]=n.useState(""),[s,c]=n.useState(""),[u,g]=n.useState(!1),w=async l=>{l.preventDefault();try{await O(h,r,o).then(f=>{const A=f.user;console.log("Tämä on esimerkkiviesti "+A.email),a("/homepage")})}catch{c("Väärä käyttäjätunnus ja/tai salasana"),g(!0)}};return n.useEffect(()=>{let l;return u&&(l=setTimeout(()=>{g(!1)},3e3)),()=>clearTimeout(l)},[u]),e.jsx("div",{children:e.jsxs("form",{onSubmit:w,children:[e.jsx(p,{variant:"h2",children:"Kirjaudu sisään"}),u&&e.jsx(p,{sx:{color:"red",marginTop:"1rem"},paragraph:!0,children:s}),e.jsx(x,{fullWidth:!0,required:!0,type:"email",margin:"normal",label:"Sähköposti",name:"email",value:r,onChange:l=>i(l.target.value)}),e.jsx(x,{fullWidth:!0,required:!0,type:"password",margin:"normal",label:"Salasana",name:"password",value:o,onChange:l=>t(l.target.value)}),e.jsx(y,{fullWidth:!0,size:"large",sx:{marginTop:"1rem"},variant:"outlined",type:"submit",children:"Kirjaudu sisään"})]})})}const V=()=>{const{isAuthenticated:a}=S();return a?e.jsx(R,{}):e.jsx(I,{to:"/homepage"})};function D(){return e.jsx(j,{children:e.jsxs(k,{children:[e.jsx(d,{path:"/",element:e.jsx(K,{})}),e.jsx(d,{path:"/homepage",element:e.jsx(V,{}),children:e.jsx(d,{path:"/homepage",element:e.jsx(z,{})})})]})})}C.createRoot(document.getElementById("root")).render(e.jsx(L.StrictMode,{children:e.jsx(j,{children:e.jsx(D,{})})}));
